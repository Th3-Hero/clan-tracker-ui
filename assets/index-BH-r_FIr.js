var Ol=Object.defineProperty;var Bl=(t,e,l)=>e in t?Ol(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var it=(t,e,l)=>Bl(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}})();function Pe(){}function vl(t){return t()}function ll(){return Object.create(null)}function He(t){t.forEach(vl)}function wl(t){return typeof t=="function"}function gl(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ml(t){return Object.keys(t).length===0}function a(t,e){t.appendChild(e)}function p(t,e,l){t.insertBefore(e,l||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function nl(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function i(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function f(){return y(" ")}function ie(){return y("")}function w(t,e,l,r){return t.addEventListener(e,l,r),()=>t.removeEventListener(e,l,r)}function c(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Gl(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e){t.value=e??""}function st(t,e,l){for(let r=0;r<t.options.length;r+=1){const n=t.options[r];if(n.__value===e){n.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function ol(t){const e=t.querySelector(":checked");return e&&e.__value}let Ye;function Ve(t){Ye=t}function Fl(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function $l(t){Fl().$$.on_mount.push(t)}const Fe=[],rl=[];let $e=[];const al=[],Pl=Promise.resolve();let Et=!1;function jl(){Et||(Et=!0,Pl.then(El))}function Je(t){$e.push(t)}const Dt=new Set;let Ge=0;function El(){if(Ge!==0)return;const t=Ye;do{try{for(;Ge<Fe.length;){const e=Fe[Ge];Ge++,Ve(e),Kl(e.$$)}}catch(e){throw Fe.length=0,Ge=0,e}for(Ve(null),Fe.length=0,Ge=0;rl.length;)rl.pop()();for(let e=0;e<$e.length;e+=1){const l=$e[e];Dt.has(l)||(Dt.add(l),l())}$e.length=0}while(Fe.length);for(;al.length;)al.pop()();Et=!1,Dt.clear(),Ve(t)}function Kl(t){if(t.fragment!==null){t.update(),He(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Je)}}function Wl(t){const e=[],l=[];$e.forEach(r=>t.indexOf(r)===-1?e.push(r):l.push(r)),l.forEach(r=>r()),$e=e}const ft=new Set;let Ul;function Sl(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function Vl(t,e,l,r){if(t&&t.o){if(ft.has(t))return;ft.add(t),Ul.c.push(()=>{ft.delete(t)}),t.o(e)}}function ct(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Yl(t){t&&t.c()}function Il(t,e,l){const{fragment:r,after_update:n}=t.$$;r&&r.m(e,l),Je(()=>{const o=t.$$.on_mount.map(vl).filter(wl);t.$$.on_destroy?t.$$.on_destroy.push(...o):He(o),t.$$.on_mount=[]}),n.forEach(Je)}function Ll(t,e){const l=t.$$;l.fragment!==null&&(Wl(l.after_update),He(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Jl(t,e){t.$$.dirty[0]===-1&&(Fe.push(t),jl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rl(t,e,l,r,n,o,s=null,D=[-1]){const g=Ye;Ve(t);const d=t.$$={fragment:null,ctx:[],props:o,update:Pe,not_equal:n,bound:ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(g?g.$$.context:[])),callbacks:ll(),dirty:D,skip_bound:!1,root:e.target||g.$$.root};s&&s(d.root);let m=!1;if(d.ctx=l?l(t,e.props||{},(L,C,...$)=>{const X=$.length?$[0]:C;return d.ctx&&n(d.ctx[L],d.ctx[L]=X)&&(!d.skip_bound&&d.bound[L]&&d.bound[L](X),m&&Jl(t,L)),C}):[],d.update(),m=!0,He(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const L=Gl(e.target);d.fragment&&d.fragment.l(L),L.forEach(_)}else d.fragment&&d.fragment.c();e.intro&&Sl(t.$$.fragment),Il(t,e.target,e.anchor),El()}Ve(g)}class Tl{constructor(){it(this,"$$");it(this,"$$set")}$destroy(){Ll(this,1),this.$destroy=Pe}$on(e,l){if(!wl(l))return Pe;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(l),()=>{const n=r.indexOf(l);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Ml(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hl);const ql={SERVER_URL:"https://clan-tracker-api.the-hero.dev"},dt=t=>t.skirmishDiff+t.advancesDiff+t.clanWarDiff,il=t=>Ql(t.rank.toLowerCase().replace("_"," ")),sl=(t,e)=>{if(t===null||e===null)return 0;const l=24*60*60*1e3;return Math.round(Math.abs((t.getTime()-e.getTime())/l))},ut=t=>{const[e,l,r]=t.split("-").map(Number);return new Date(e,l-1,r)},Re=(t,e=!1)=>{const l=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return e?`${l}-${r}-${n} ${o}:${s}`:`${l}-${r}-${n}`},cl=t=>Re(t,!0).replace(" ","T");var O=(t=>(t[t.ASCENDING=0]="ASCENDING",t[t.DESCENDING=1]="DESCENDING",t))(O||{}),h=(t=>(t[t.NAME=0]="NAME",t[t.RANK=1]="RANK",t[t.JOINED=2]="JOINED",t[t.DAYS_IN_CLAN=3]="DAYS_IN_CLAN",t[t.LAST_BATTLE=4]="LAST_BATTLE",t[t.RANDOMS=5]="RANDOMS",t[t.SKIRMISH=6]="SKIRMISH",t[t.ADVANCES=7]="ADVANCES",t[t.CLAN_WARS=8]="CLAN_WARS",t[t.TOTAL_CLAN_BATTLES=9]="TOTAL_CLAN_BATTLES",t))(h||{});const zl=["COMMANDER","EXECUTIVE_OFFICER","COMBAT_OFFICER","PERSONNEL_OFFICER","INTELLIGENCE_OFFICER","QUARTERMASTER","RECRUITMENT_OFFICER","JUNIOR_OFFICER","PRIVATE","RECRUIT","RESERVIST"],Nt=(t,e,l)=>{const r=n=>{switch(e){case 0:return n.name.toLowerCase();case 1:return zl.toReversed().indexOf(n.rank);case 2:return new Date(n.joinedClan).getTime();case 3:return n.daysInClan;case 4:return new Date(n.lastBattle).getTime();case 5:return n.randomsDiff;case 6:return n.skirmishDiff;case 7:return n.advancesDiff;case 8:return n.clanWarDiff;case 9:return dt(n);default:return 0}};return l.sort((n,o)=>{const s=r(n),D=r(o);return s<D?t===0?-1:1:s>D?t===0?1:-1:0})},Ql=t=>t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),vt=ql.SERVER_URL;class wt{async getConfig(){const e=await fetch(`${vt}/data/config`);if(!e.ok)throw new gt("Failed to fetch config",e);return await e.json()}async getClanList(){const e=await fetch(`${vt}/data/clan-list`);if(!e.ok)throw new gt("Failed to fetch clan list",e);return await e.json()}async getClanActivity(e,l,r){let n=`${vt}/data/clan-activity/${e}`;l!==null&&r!==null&&(n+=`?&startDate=${cl(l)}&endDate=${cl(r)}`);const o=await fetch(n);if(!o.ok)throw new gt("Failed to fetch clan activity",o);const s=await o.json();return s.startDate=new Date(s.startDate),s.endDate=new Date(s.endDate),s.memberActivity.forEach(D=>{D.joinedClan=new Date(D.joinedClan),D.lastBattle=new Date(D.lastBattle)}),s}}class gt extends Error{constructor(l,r){super(l);it(this,"response");this.name="FetchError",this.response=r}}function ul(t,e,l){const r=t.slice();return r[29]=e[l],r}function fl(t,e,l){const r=t.slice();return r[32]=e[l],r}function dl(t){let e,l=t[32].tag+"",r,n;return{c(){e=i("option"),r=y(l),e.__value=n=t[32].id,I(e,e.__value)},m(o,s){p(o,e,s),a(e,r)},p(o,s){s[0]&8&&l!==(l=o[32].tag+"")&&te(r,l),s[0]&8&&n!==(n=o[32].id)&&(e.__value=n,I(e,e.__value))},d(o){o&&_(e)}}}function _l(t){let e;function l(o,s){return o[6]===O.ASCENDING?Zl:Xl}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function Xl(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function Zl(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function pl(t){let e;function l(o,s){return o[6]===O.ASCENDING?en:xl}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function xl(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function en(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function ml(t){let e;function l(o,s){return o[6]===O.ASCENDING?ln:tn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function tn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function ln(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function bl(t){let e;function l(o,s){return o[6]===O.ASCENDING?on:nn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function nn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function on(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function hl(t){let e;function l(o,s){return o[6]===O.ASCENDING?an:rn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function rn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function an(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function kl(t){let e;function l(o,s){return o[6]===O.ASCENDING?cn:sn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function sn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function cn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function Cl(t){let e;function l(o,s){return o[6]===O.ASCENDING?fn:un}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function un(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function fn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function Al(t){let e;function l(o,s){return o[6]===O.ASCENDING?_n:dn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function dn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function _n(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function yl(t){let e;function l(o,s){return o[6]===O.ASCENDING?mn:pn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function pn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function mn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function Dl(t){let e;function l(o,s){return o[6]===O.ASCENDING?hn:bn}let r=l(t),n=r(t);return{c(){n.c(),e=ie()},m(o,s){n.m(o,s),p(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&_(e),n.d(o)}}}function bn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function hn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){p(l,e,r)},d(l){l&&_(e)}}}function Nl(t){let e,l,r=t[29].name+"",n,o,s,D=il(t[29])+"",g,d,m,L=Re(t[29].joinedClan)+"",C,$,X,se=t[29].daysInClan+"",P,we,Z,re=Re(t[29].lastBattle)+"",pe,x,ce,ee=t[29].randomsDiff+"",ue,ge,B,fe=t[29].skirmishDiff+"",le,me,de,E=t[29].advancesDiff+"",A,j,R,T=t[29].clanWarDiff+"",M,ae,Ee,oe=dt(t[29])+"",Se,je,ne;return{c(){e=i("tr"),l=i("td"),n=y(r),o=f(),s=i("td"),g=y(D),d=f(),m=i("td"),C=y(L),$=f(),X=i("td"),P=y(se),we=f(),Z=i("td"),pe=y(re),x=f(),ce=i("td"),ue=y(ee),ge=f(),B=i("td"),le=y(fe),me=f(),de=i("td"),A=y(E),j=f(),R=i("td"),M=y(T),ae=f(),Ee=i("td"),Se=y(oe),je=f(),c(l,"class","table-cell"),c(s,"class","table-cell"),c(m,"class","table-cell"),c(X,"class","table-cell"),c(Z,"class","table-cell"),c(ce,"class","table-cell"),c(B,"class","table-cell"),c(de,"class","table-cell"),c(R,"class","table-cell"),c(Ee,"class","table-cell"),c(e,"class",ne=t[7](t[29]))},m(S,v){p(S,e,v),a(e,l),a(l,n),a(e,o),a(e,s),a(s,g),a(e,d),a(e,m),a(m,C),a(e,$),a(e,X),a(X,P),a(e,we),a(e,Z),a(Z,pe),a(e,x),a(e,ce),a(ce,ue),a(e,ge),a(e,B),a(B,le),a(e,me),a(e,de),a(de,A),a(e,j),a(e,R),a(R,M),a(e,ae),a(e,Ee),a(Ee,Se),a(e,je)},p(S,v){v[0]&1&&r!==(r=S[29].name+"")&&te(n,r),v[0]&1&&D!==(D=il(S[29])+"")&&te(g,D),v[0]&1&&L!==(L=Re(S[29].joinedClan)+"")&&te(C,L),v[0]&1&&se!==(se=S[29].daysInClan+"")&&te(P,se),v[0]&1&&re!==(re=Re(S[29].lastBattle)+"")&&te(pe,re),v[0]&1&&ee!==(ee=S[29].randomsDiff+"")&&te(ue,ee),v[0]&1&&fe!==(fe=S[29].skirmishDiff+"")&&te(le,fe),v[0]&1&&E!==(E=S[29].advancesDiff+"")&&te(A,E),v[0]&1&&T!==(T=S[29].clanWarDiff+"")&&te(M,T),v[0]&1&&oe!==(oe=dt(S[29])+"")&&te(Se,oe),v[0]&1&&ne!==(ne=S[7](S[29]))&&c(e,"class",ne)},d(S){S&&_(e)}}}function kn(t){let e,l,r,n,o,s,D,g,d,m,L,C,$,X,se,P,we,Z,re,pe,x,ce,ee,ue,ge,B,fe,le,me,de,E,A,j,R,T,M,ae,Ee,oe,Se,je,ne,S,v,_t,St,Ie,It,Te,pt,Lt,qe,ze=sl(t[0].startDate,t[0].endDate)+"",mt,Rt,Tt,Oe,bt,Ot,ht,Qe=t[0].memberActivity.length+"",kt,Bt,Le,N,Xe,_e,Mt,Gt,Ze,be,Ft,$t,xe,he,Pt,jt,et,ke,Kt,Wt,tt,Ce,Ut,Vt,lt,Ae,Yt,Jt,nt,ye,Ht,qt,ot,De,zt,Qt,rt,Ne,Xt,Zt,at,ve,xt,el,Ct,Ke,At,We,yt,tl,Be=ct(t[3]),G=[];for(let u=0;u<Be.length;u+=1)G[u]=dl(fl(t,Be,u));let K=t[5]===h.NAME&&_l(t),W=t[5]===h.RANK&&pl(t),U=t[5]===h.JOINED&&ml(t),V=t[5]===h.DAYS_IN_CLAN&&bl(t),Y=t[5]===h.LAST_BATTLE&&hl(t),J=t[5]===h.RANDOMS&&kl(t),H=t[5]===h.SKIRMISH&&Cl(t),q=t[5]===h.ADVANCES&&Al(t),z=t[5]===h.CLAN_WARS&&yl(t),Q=t[5]===h.TOTAL_CLAN_BATTLES&&Dl(t),Me=ct(t[0].memberActivity),F=[];for(let u=0;u<Me.length;u+=1)F[u]=Nl(ul(t,Me,u));return{c(){e=i("div"),l=i("div"),r=i("div"),r.textContent="Activity Summary",n=f(),o=i("div"),s=i("div"),D=i("div"),D.textContent="Select Clan",g=f(),d=i("select"),m=i("option"),m.textContent="Select Clan:";for(let u=0;u<G.length;u+=1)G[u].c();L=f(),C=i("div"),$=i("div"),X=i("div"),X.textContent="Good",se=f(),P=i("input"),we=f(),Z=i("div"),re=i("div"),re.textContent="Poor",pe=f(),x=i("input"),ce=f(),ee=i("div"),ue=i("div"),ue.textContent="Bad",ge=f(),B=i("input"),fe=f(),le=i("div"),me=i("div"),me.textContent="Color By",de=f(),E=i("select"),A=i("option"),A.textContent="Color By:",j=i("option"),j.textContent="Randoms",R=i("option"),R.textContent="Skirmish",T=i("option"),T.textContent="Advances",M=i("option"),M.textContent="Clan War",ae=i("option"),ae.textContent="Total Clan Battles",Ee=f(),oe=i("div"),Se=i("div"),Se.textContent="Start Date",je=f(),ne=i("input"),S=f(),v=i("div"),_t=i("div"),_t.textContent="End Date",St=f(),Ie=i("input"),It=f(),Te=i("div"),pt=i("div"),pt.textContent="Date Range",Lt=f(),qe=i("div"),mt=y(ze),Rt=y(" days"),Tt=f(),Oe=i("div"),bt=i("div"),bt.textContent="Members",Ot=f(),ht=i("div"),kt=y(Qe),Bt=f(),Le=i("table"),N=i("tr"),Xe=i("th"),_e=i("button"),Mt=y(`Name\r
                    `),K&&K.c(),Gt=f(),Ze=i("th"),be=i("button"),Ft=y(`Rank\r
                    `),W&&W.c(),$t=f(),xe=i("th"),he=i("button"),Pt=y(`Joined Clan\r
                    `),U&&U.c(),jt=f(),et=i("th"),ke=i("button"),Kt=y(`Days in Clan\r
                    `),V&&V.c(),Wt=f(),tt=i("th"),Ce=i("button"),Ut=y(`Last Battle\r
                    `),Y&&Y.c(),Vt=f(),lt=i("th"),Ae=i("button"),Yt=y(`Randoms\r
                    `),J&&J.c(),Jt=f(),nt=i("th"),ye=i("button"),Ht=y(`Skirmish\r
                    `),H&&H.c(),qt=f(),ot=i("th"),De=i("button"),zt=y(`Advances\r
                    `),q&&q.c(),Qt=f(),rt=i("th"),Ne=i("button"),Xt=y(`Clan War\r
                    `),z&&z.c(),Zt=f(),at=i("th"),ve=i("button"),xt=y(`Total Clan Battles\r
                    `),Q&&Q.c(),el=f();for(let u=0;u<F.length;u+=1)F[u].c();Ct=f(),Ke=i("link"),At=f(),We=i("link"),c(r,"class","title"),m.disabled=!0,m.__value="Select Clan:",I(m,m.__value),t[4]===void 0&&Je(()=>t[11].call(d)),c(s,"class","control"),c(P,"type","text"),c(P,"placeholder","Good"),c($,"class","control"),c(x,"type","text"),c(x,"placeholder","Poor"),c(Z,"class","control"),c(B,"type","text"),c(B,"placeholder","Bad"),c(ee,"class","control"),c(C,"class","performance-controls"),A.disabled=!0,A.__value="Color By:",I(A,A.__value),j.__value="randoms",I(j,j.__value),R.__value="skirmish",I(R,R.__value),T.__value="advances",I(T,T.__value),M.__value="clan_war",I(M,M.__value),ae.__value="total_clan_battles",I(ae,ae.__value),ae.selected=!0,t[1]===void 0&&Je(()=>t[15].call(E)),c(le,"class","control"),c(ne,"type","date"),c(oe,"class","control"),c(Ie,"type","date"),c(v,"class","control"),c(Te,"class","control"),c(Oe,"class","control"),c(o,"class","controls-container"),c(l,"class","top-bar"),c(_e,"type","button"),_e.value=h.NAME,c(_e,"class","table-cell table-header-cell"),c(Xe,"class","table-row-header"),c(be,"type","button"),c(be,"class","table-cell table-header-cell"),c(Ze,"class","table-row-header"),c(he,"type","button"),c(he,"class","table-cell table-header-cell"),c(xe,"class","table-row-header"),c(ke,"type","button"),c(ke,"class","table-cell table-header-cell"),c(et,"class","table-row-header"),c(Ce,"type","button"),c(Ce,"class","table-cell table-header-cell"),c(tt,"class","table-row-header"),c(Ae,"type","button"),c(Ae,"class","table-cell table-header-cell"),c(lt,"class","table-row-header"),c(ye,"type","button"),c(ye,"class","table-cell table-header-cell"),c(nt,"class","table-row-header"),c(De,"type","button"),c(De,"class","table-cell table-header-cell"),c(ot,"class","table-row-header"),c(Ne,"type","button"),c(Ne,"class","table-cell table-header-cell"),c(rt,"class","table-row-header"),c(ve,"type","button"),c(ve,"class","table-cell table-header-cell"),c(at,"class","table-row-header"),c(N,"class","table-header"),c(Le,"class","table-container"),c(e,"class","page-container"),c(Ke,"rel","stylesheet"),c(Ke,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"),c(We,"rel","stylesheet"),c(We,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0")},m(u,k){p(u,e,k),a(e,l),a(l,r),a(l,n),a(l,o),a(o,s),a(s,D),a(s,g),a(s,d),a(d,m);for(let b=0;b<G.length;b+=1)G[b]&&G[b].m(d,null);st(d,t[4],!0),a(o,L),a(o,C),a(C,$),a($,X),a($,se),a($,P),I(P,t[2].good),a(C,we),a(C,Z),a(Z,re),a(Z,pe),a(Z,x),I(x,t[2].poor),a(C,ce),a(C,ee),a(ee,ue),a(ee,ge),a(ee,B),I(B,t[2].bad),a(o,fe),a(o,le),a(le,me),a(le,de),a(le,E),a(E,A),a(E,j),a(E,R),a(E,T),a(E,M),a(E,ae),st(E,t[1],!0),a(o,Ee),a(o,oe),a(oe,Se),a(oe,je),a(oe,ne),I(ne,t[2].startDate),a(o,S),a(o,v),a(v,_t),a(v,St),a(v,Ie),I(Ie,t[2].endDate),a(o,It),a(o,Te),a(Te,pt),a(Te,Lt),a(Te,qe),a(qe,mt),a(qe,Rt),a(o,Tt),a(o,Oe),a(Oe,bt),a(Oe,Ot),a(Oe,ht),a(ht,kt),a(e,Bt),a(e,Le),a(Le,N),a(N,Xe),a(Xe,_e),a(_e,Mt),K&&K.m(_e,null),a(N,Gt),a(N,Ze),a(Ze,be),a(be,Ft),W&&W.m(be,null),a(N,$t),a(N,xe),a(xe,he),a(he,Pt),U&&U.m(he,null),a(N,jt),a(N,et),a(et,ke),a(ke,Kt),V&&V.m(ke,null),a(N,Wt),a(N,tt),a(tt,Ce),a(Ce,Ut),Y&&Y.m(Ce,null),a(N,Vt),a(N,lt),a(lt,Ae),a(Ae,Yt),J&&J.m(Ae,null),a(N,Jt),a(N,nt),a(nt,ye),a(ye,Ht),H&&H.m(ye,null),a(N,qt),a(N,ot),a(ot,De),a(De,zt),q&&q.m(De,null),a(N,Qt),a(N,rt),a(rt,Ne),a(Ne,Xt),z&&z.m(Ne,null),a(N,Zt),a(N,at),a(at,ve),a(ve,xt),Q&&Q.m(ve,null),a(Le,el);for(let b=0;b<F.length;b+=1)F[b]&&F[b].m(Le,null);p(u,Ct,k),p(u,Ke,k),p(u,At,k),p(u,We,k),yt||(tl=[w(d,"change",t[11]),w(d,"change",t[9]),w(P,"input",t[12]),w(x,"input",t[13]),w(B,"input",t[14]),w(E,"change",t[15]),w(ne,"input",t[16]),w(ne,"change",t[10]),w(Ie,"input",t[17]),w(Ie,"change",t[10]),w(_e,"click",t[18]),w(be,"click",t[19]),w(he,"click",t[20]),w(ke,"click",t[21]),w(Ce,"click",t[22]),w(Ae,"click",t[23]),w(ye,"click",t[24]),w(De,"click",t[25]),w(Ne,"click",t[26]),w(ve,"click",t[27])],yt=!0)},p(u,k){if(k[0]&8){Be=ct(u[3]);let b;for(b=0;b<Be.length;b+=1){const Ue=fl(u,Be,b);G[b]?G[b].p(Ue,k):(G[b]=dl(Ue),G[b].c(),G[b].m(d,null))}for(;b<G.length;b+=1)G[b].d(1);G.length=Be.length}if(k[0]&24&&st(d,u[4]),k[0]&4&&P.value!==u[2].good&&I(P,u[2].good),k[0]&4&&x.value!==u[2].poor&&I(x,u[2].poor),k[0]&4&&B.value!==u[2].bad&&I(B,u[2].bad),k[0]&2&&st(E,u[1]),k[0]&4&&I(ne,u[2].startDate),k[0]&4&&I(Ie,u[2].endDate),k[0]&1&&ze!==(ze=sl(u[0].startDate,u[0].endDate)+"")&&te(mt,ze),k[0]&1&&Qe!==(Qe=u[0].memberActivity.length+"")&&te(kt,Qe),u[5]===h.NAME?K?K.p(u,k):(K=_l(u),K.c(),K.m(_e,null)):K&&(K.d(1),K=null),u[5]===h.RANK?W?W.p(u,k):(W=pl(u),W.c(),W.m(be,null)):W&&(W.d(1),W=null),u[5]===h.JOINED?U?U.p(u,k):(U=ml(u),U.c(),U.m(he,null)):U&&(U.d(1),U=null),u[5]===h.DAYS_IN_CLAN?V?V.p(u,k):(V=bl(u),V.c(),V.m(ke,null)):V&&(V.d(1),V=null),u[5]===h.LAST_BATTLE?Y?Y.p(u,k):(Y=hl(u),Y.c(),Y.m(Ce,null)):Y&&(Y.d(1),Y=null),u[5]===h.RANDOMS?J?J.p(u,k):(J=kl(u),J.c(),J.m(Ae,null)):J&&(J.d(1),J=null),u[5]===h.SKIRMISH?H?H.p(u,k):(H=Cl(u),H.c(),H.m(ye,null)):H&&(H.d(1),H=null),u[5]===h.ADVANCES?q?q.p(u,k):(q=Al(u),q.c(),q.m(De,null)):q&&(q.d(1),q=null),u[5]===h.CLAN_WARS?z?z.p(u,k):(z=yl(u),z.c(),z.m(Ne,null)):z&&(z.d(1),z=null),u[5]===h.TOTAL_CLAN_BATTLES?Q?Q.p(u,k):(Q=Dl(u),Q.c(),Q.m(ve,null)):Q&&(Q.d(1),Q=null),k[0]&129){Me=ct(u[0].memberActivity);let b;for(b=0;b<Me.length;b+=1){const Ue=ul(u,Me,b);F[b]?F[b].p(Ue,k):(F[b]=Nl(Ue),F[b].c(),F[b].m(Le,null))}for(;b<F.length;b+=1)F[b].d(1);F.length=Me.length}},i:Pe,o:Pe,d(u){u&&(_(e),_(Ct),_(Ke),_(At),_(We)),nl(G,u),K&&K.d(),W&&W.d(),U&&U.d(),V&&V.d(),Y&&Y.d(),J&&J.d(),H&&H.d(),q&&q.d(),z&&z.d(),Q&&Q.d(),nl(F,u),yt=!1,He(tl)}}}function Cn(t,e,l){let r,n={clan:null,endDate:null,startDate:null,memberActivity:[]},o=[],s,D,g=h.TOTAL_CLAN_BATTLES,d=O.ASCENDING,m={good:0,poor:0,bad:0,startDate:"",endDate:""};const L=A=>{const R=M=>M/7*r.defaultActivitySummaryDateRange,T=M=>M>=R(m.good)?"performance-good":M>=R(m.poor)?"performance-poor":"performance-bad";switch(D){case"randoms":return T(A.randomsDiff);case"skirmish":return T(A.skirmishDiff);case"advances":return T(A.advancesDiff);case"clan_war":return T(A.clanWarDiff);case"total_clan_battles":return T(dt(A));default:return"performance-bad"}},C=A=>{g===A?l(6,d=d===O.ASCENDING?O.DESCENDING:O.ASCENDING):(l(5,g=A),g===h.NAME?l(6,d=O.ASCENDING):l(6,d=O.DESCENDING)),l(0,n.memberActivity=Nt(d,g,n.memberActivity),n)},$=async()=>{const A=new wt,j=ut(m.startDate),R=ut(m.endDate);l(0,n=await A.getClanActivity(s,j,R)),l(0,n.memberActivity=Nt(d,g,n.memberActivity),n)},X=async()=>{const A=new wt,j=ut(m.startDate),R=ut(m.endDate);l(0,n=await A.getClanActivity(s,j,R)),l(0,n.memberActivity=Nt(d,g,n.memberActivity),n)};$l(async()=>{const A=new wt;r=await A.getConfig(),l(3,o=await A.getClanList()),o.length===0&&console.error("No clans found"),l(4,s=o[0].id),l(0,n=await A.getClanActivity(s,null,null)),l(2,m={good:r.defaultPerformanceThresholdGood,poor:r.defaultPerformanceThresholdPoor,bad:r.defaultPerformanceThresholdBad,startDate:Re(n.startDate),endDate:Re(n.endDate)}),C(h.TOTAL_CLAN_BATTLES)});function se(){s=ol(this),l(4,s),l(3,o)}function P(){m.good=this.value,l(2,m)}function we(){m.poor=this.value,l(2,m)}function Z(){m.bad=this.value,l(2,m)}function re(){D=ol(this),l(1,D)}function pe(){m.startDate=this.value,l(2,m)}function x(){m.endDate=this.value,l(2,m)}const ce=()=>C(h.NAME),ee=()=>C(h.RANK),ue=()=>C(h.JOINED),ge=()=>C(h.DAYS_IN_CLAN),B=()=>C(h.LAST_BATTLE),fe=()=>C(h.RANDOMS),le=()=>C(h.SKIRMISH),me=()=>C(h.ADVANCES),de=()=>C(h.CLAN_WARS),E=()=>C(h.TOTAL_CLAN_BATTLES);return t.$$.update=()=>{t.$$.dirty[0]&7&&(D||m)&&l(0,n={...n})},[n,D,m,o,s,g,d,L,C,$,X,se,P,we,Z,re,pe,x,ce,ee,ue,ge,B,fe,le,me,de,E]}class An extends Tl{constructor(e){super(),Rl(this,e,Cn,kn,gl,{},null,[-1,-1])}}function yn(t){let e,l,r;return l=new An({}),{c(){e=i("div"),Yl(l.$$.fragment),c(e,"class","main-container svelte-n4ghj8")},m(n,o){p(n,e,o),Il(l,e,null),r=!0},p:Pe,i(n){r||(Sl(l.$$.fragment,n),r=!0)},o(n){Vl(l.$$.fragment,n),r=!1},d(n){n&&_(e),Ll(l)}}}class Dn extends Tl{constructor(e){super(),Rl(this,e,null,yn,gl,{})}}new Dn({target:document.getElementById("app")});
