var Bl=Object.defineProperty;var Ml=(t,e,l)=>e in t?Bl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var at=(t,e,l)=>Ml(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}})();function $e(){}function wl(t){return t()}function ll(){return Object.create(null)}function Je(t){t.forEach(wl)}function gl(t){return typeof t=="function"}function El(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Gl(t){return Object.keys(t).length===0}function a(t,e){t.appendChild(e)}function _(t,e,l){t.insertBefore(e,l||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function nl(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function i(t){return document.createElement(t)}function D(t){return document.createTextNode(t)}function f(){return D(" ")}function se(){return D("")}function E(t,e,l,r){return t.addEventListener(e,l,r),()=>t.removeEventListener(e,l,r)}function c(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Fl(t){return Array.from(t.childNodes)}function ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e){t.value=e??""}function it(t,e,l){for(let r=0;r<t.options.length;r+=1){const n=t.options[r];if(n.__value===e){n.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function ol(t){const e=t.querySelector(":checked");return e&&e.__value}let Ve;function Ue(t){Ve=t}function $l(){if(!Ve)throw new Error("Function called outside component initialization");return Ve}function Pl(t){$l().$$.on_mount.push(t)}const Ge=[],rl=[];let Fe=[];const al=[],jl=Promise.resolve();let gt=!1;function Kl(){gt||(gt=!0,jl.then(Sl))}function Ye(t){Fe.push(t)}const yt=new Set;let Me=0;function Sl(){if(Me!==0)return;const t=Ve;do{try{for(;Me<Ge.length;){const e=Ge[Me];Me++,Ue(e),Wl(e.$$)}}catch(e){throw Ge.length=0,Me=0,e}for(Ue(null),Ge.length=0,Me=0;rl.length;)rl.pop()();for(let e=0;e<Fe.length;e+=1){const l=Fe[e];yt.has(l)||(yt.add(l),l())}Fe.length=0}while(Ge.length);for(;al.length;)al.pop()();gt=!1,yt.clear(),Ue(t)}function Wl(t){if(t.fragment!==null){t.update(),Je(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ye)}}function Ul(t){const e=[],l=[];Fe.forEach(r=>t.indexOf(r)===-1?e.push(r):l.push(r)),l.forEach(r=>r()),Fe=e}const ft=new Set;let Vl;function Il(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function Yl(t,e,l,r){if(t&&t.o){if(ft.has(t))return;ft.add(t),Vl.c.push(()=>{ft.delete(t)}),t.o(e)}}function st(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Jl(t){t&&t.c()}function Ll(t,e,l){const{fragment:r,after_update:n}=t.$$;r&&r.m(e,l),Ye(()=>{const o=t.$$.on_mount.map(wl).filter(gl);t.$$.on_destroy?t.$$.on_destroy.push(...o):Je(o),t.$$.on_mount=[]}),n.forEach(Ye)}function Rl(t,e){const l=t.$$;l.fragment!==null&&(Ul(l.after_update),Je(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Hl(t,e){t.$$.dirty[0]===-1&&(Ge.push(t),Kl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tl(t,e,l,r,n,o,s=null,v=[-1]){const C=Ve;Ue(t);const p=t.$$={fragment:null,ctx:[],props:o,update:$e,not_equal:n,bound:ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(C?C.$$.context:[])),callbacks:ll(),dirty:v,skip_bound:!1,root:e.target||C.$$.root};s&&s(p.root);let h=!1;if(p.ctx=l?l(t,e.props||{},(N,y,...le)=>{const te=le.length?le[0]:y;return p.ctx&&n(p.ctx[N],p.ctx[N]=te)&&(!p.skip_bound&&p.bound[N]&&p.bound[N](te),h&&Hl(t,N)),y}):[],p.update(),h=!0,Je(p.before_update),p.fragment=r?r(p.ctx):!1,e.target){if(e.hydrate){const N=Fl(e.target);p.fragment&&p.fragment.l(N),N.forEach(d)}else p.fragment&&p.fragment.c();e.intro&&Il(t.$$.fragment),Ll(t,e.target,e.anchor),Sl()}Ue(C)}class Ol{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){Rl(this,1),this.$destroy=$e}$on(e,l){if(!gl(l))return $e;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(l),()=>{const n=r.indexOf(l);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Gl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ql="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ql);const zl={SERVER_URL:"https://clan-tracker-api.the-hero.dev"},dt=t=>t.skirmishDiff+t.advancesDiff+t.clanWarDiff,il=t=>Xl(t.rank.toLowerCase().replace("_"," ")),sl=(t,e)=>{if(t===null||e===null)return 0;const l=24*60*60*1e3;return Math.round(Math.abs((t.getTime()-e.getTime())/l))},ct=t=>{const[e,l,r]=t.split("-").map(Number);return new Date(e,l-1,r)},Et=(t,e=!1)=>{const l=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return e?`${l}-${r}-${n} ${o}:${s}`:`${l}-${r}-${n}`},ut=t=>Et(t,!0),cl=t=>Et(t),ul=t=>Et(t,!0).replace(" ","T");var O=(t=>(t[t.ASCENDING=0]="ASCENDING",t[t.DESCENDING=1]="DESCENDING",t))(O||{}),b=(t=>(t[t.NAME=0]="NAME",t[t.RANK=1]="RANK",t[t.JOINED=2]="JOINED",t[t.DAYS_IN_CLAN=3]="DAYS_IN_CLAN",t[t.LAST_BATTLE=4]="LAST_BATTLE",t[t.RANDOMS=5]="RANDOMS",t[t.SKIRMISH=6]="SKIRMISH",t[t.ADVANCES=7]="ADVANCES",t[t.CLAN_WARS=8]="CLAN_WARS",t[t.TOTAL_CLAN_BATTLES=9]="TOTAL_CLAN_BATTLES",t))(b||{});const Ql=["COMMANDER","EXECUTIVE_OFFICER","COMBAT_OFFICER","PERSONNEL_OFFICER","INTELLIGENCE_OFFICER","QUARTERMASTER","RECRUITMENT_OFFICER","JUNIOR_OFFICER","PRIVATE","RECRUIT","RESERVIST"],Dt=(t,e,l)=>{const r=n=>{switch(e){case 0:return n.name.toLowerCase();case 1:return Ql.toReversed().indexOf(n.rank);case 2:return new Date(n.joinedClan).getTime();case 3:return n.daysInClan;case 4:return new Date(n.lastBattle).getTime();case 5:return n.randomsDiff;case 6:return n.skirmishDiff;case 7:return n.advancesDiff;case 8:return n.clanWarDiff;case 9:return dt(n);default:return 0}};return l.sort((n,o)=>{const s=r(n),v=r(o);return s<v?t===0?-1:1:s>v?t===0?1:-1:0})},Xl=t=>t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),Nt=zl.SERVER_URL;class vt{async getConfig(){const e=await fetch(`${Nt}/data/config`);if(!e.ok)throw new wt("Failed to fetch config",e);return await e.json()}async getClanList(){const e=await fetch(`${Nt}/data/clan-list`);if(!e.ok)throw new wt("Failed to fetch clan list",e);return await e.json()}async getClanActivity(e,l,r){let n=`${Nt}/data/clan-activity/${e}`;l!==null&&r!==null&&(n+=`?&startDate=${ul(l)}&endDate=${ul(r)}`);const o=await fetch(n);if(!o.ok)throw new wt("Failed to fetch clan activity",o);const s=await o.json();return s.startDate=new Date(s.startDate),s.endDate=new Date(s.endDate),s.memberActivity.forEach(v=>{v.joinedClan=new Date(v.joinedClan),v.lastBattle=new Date(v.lastBattle)}),s}}class wt extends Error{constructor(l,r){super(l);at(this,"response");this.name="FetchError",this.response=r}}function fl(t,e,l){const r=t.slice();return r[29]=e[l],r}function dl(t,e,l){const r=t.slice();return r[32]=e[l],r}function _l(t){let e,l=t[32].tag+"",r,n;return{c(){e=i("option"),r=D(l),e.__value=n=t[32].id,I(e,e.__value)},m(o,s){_(o,e,s),a(e,r)},p(o,s){s[0]&8&&l!==(l=o[32].tag+"")&&ee(r,l),s[0]&8&&n!==(n=o[32].id)&&(e.__value=n,I(e,e.__value))},d(o){o&&d(e)}}}function pl(t){let e;function l(o,s){return o[6]===O.ASCENDING?xl:Zl}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function Zl(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function xl(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function ml(t){let e;function l(o,s){return o[6]===O.ASCENDING?tn:en}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function en(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function tn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function bl(t){let e;function l(o,s){return o[6]===O.ASCENDING?nn:ln}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function ln(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function nn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function hl(t){let e;function l(o,s){return o[6]===O.ASCENDING?rn:on}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function on(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function rn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function kl(t){let e;function l(o,s){return o[6]===O.ASCENDING?sn:an}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function an(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function sn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function Cl(t){let e;function l(o,s){return o[6]===O.ASCENDING?un:cn}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function cn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function un(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function Al(t){let e;function l(o,s){return o[6]===O.ASCENDING?dn:fn}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function fn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function dn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function yl(t){let e;function l(o,s){return o[6]===O.ASCENDING?pn:_n}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function _n(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function pn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function Dl(t){let e;function l(o,s){return o[6]===O.ASCENDING?bn:mn}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function mn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function bn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function Nl(t){let e;function l(o,s){return o[6]===O.ASCENDING?kn:hn}let r=l(t),n=r(t);return{c(){n.c(),e=se()},m(o,s){n.m(o,s),_(o,e,s)},p(o,s){r!==(r=l(o))&&(n.d(1),n=r(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){o&&d(e),n.d(o)}}}function hn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_down",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function kn(t){let e;return{c(){e=i("span"),e.textContent="keyboard_arrow_up",c(e,"class","material-symbols-outlined sort-arrow")},m(l,r){_(l,e,r)},d(l){l&&d(e)}}}function vl(t){let e,l,r=t[29].name+"",n,o,s,v=il(t[29])+"",C,p,h,N=ut(t[29].joinedClan)+"",y,le,te,M=t[29].daysInClan+"",_e,ne,re,ce=ut(t[29].lastBattle)+"",$,we,X,ae=t[29].randomsDiff+"",pe,Z,ue,x=t[29].skirmishDiff+"",fe,ge,S,P=t[29].advancesDiff+"",A,j,L,R=t[29].clanWarDiff+"",B,Pe,oe,me=dt(t[29])+"",Le,ie,Ee;return{c(){e=i("tr"),l=i("td"),n=D(r),o=f(),s=i("td"),C=D(v),p=f(),h=i("td"),y=D(N),le=f(),te=i("td"),_e=D(M),ne=f(),re=i("td"),$=D(ce),we=f(),X=i("td"),pe=D(ae),Z=f(),ue=i("td"),fe=D(x),ge=f(),S=i("td"),A=D(P),j=f(),L=i("td"),B=D(R),Pe=f(),oe=i("td"),Le=D(me),ie=f(),c(l,"class","table-cell"),c(s,"class","table-cell"),c(h,"class","table-cell"),c(te,"class","table-cell"),c(re,"class","table-cell"),c(X,"class","table-cell"),c(ue,"class","table-cell"),c(S,"class","table-cell"),c(L,"class","table-cell"),c(oe,"class","table-cell"),c(e,"class",Ee=t[7](t[29]))},m(w,T){_(w,e,T),a(e,l),a(l,n),a(e,o),a(e,s),a(s,C),a(e,p),a(e,h),a(h,y),a(e,le),a(e,te),a(te,_e),a(e,ne),a(e,re),a(re,$),a(e,we),a(e,X),a(X,pe),a(e,Z),a(e,ue),a(ue,fe),a(e,ge),a(e,S),a(S,A),a(e,j),a(e,L),a(L,B),a(e,Pe),a(e,oe),a(oe,Le),a(e,ie)},p(w,T){T[0]&1&&r!==(r=w[29].name+"")&&ee(n,r),T[0]&1&&v!==(v=il(w[29])+"")&&ee(C,v),T[0]&1&&N!==(N=ut(w[29].joinedClan)+"")&&ee(y,N),T[0]&1&&M!==(M=w[29].daysInClan+"")&&ee(_e,M),T[0]&1&&ce!==(ce=ut(w[29].lastBattle)+"")&&ee($,ce),T[0]&1&&ae!==(ae=w[29].randomsDiff+"")&&ee(pe,ae),T[0]&1&&x!==(x=w[29].skirmishDiff+"")&&ee(fe,x),T[0]&1&&P!==(P=w[29].advancesDiff+"")&&ee(A,P),T[0]&1&&R!==(R=w[29].clanWarDiff+"")&&ee(B,R),T[0]&1&&me!==(me=dt(w[29])+"")&&ee(Le,me),T[0]&1&&Ee!==(Ee=w[7](w[29]))&&c(e,"class",Ee)},d(w){w&&d(e)}}}function Cn(t){let e,l,r,n,o,s,v,C,p,h,N,y,le,te,M,_e,ne,re,ce,$,we,X,ae,pe,Z,ue,x,fe,ge,S,P,A,j,L,R,B,Pe,oe,me,Le,ie,Ee,w,T,St,Se,It,Re,_t,Lt,He,qe=sl(t[0].startDate,t[0].endDate)+"",pt,Rt,Tt,Te,mt,Ot,bt,ze=t[0].memberActivity.length+"",ht,Bt,Ie,g,Qe,de,Mt,Gt,Xe,be,Ft,$t,Ze,he,Pt,jt,xe,ke,Kt,Wt,et,Ce,Ut,Vt,tt,Ae,Yt,Jt,lt,ye,Ht,qt,nt,De,zt,Qt,ot,Ne,Xt,Zt,rt,ve,xt,el,kt,je,Ct,Ke,At,tl,Oe=st(t[3]),G=[];for(let u=0;u<Oe.length;u+=1)G[u]=_l(dl(t,Oe,u));let K=t[5]===b.NAME&&pl(t),W=t[5]===b.RANK&&ml(t),U=t[5]===b.JOINED&&bl(t),V=t[5]===b.DAYS_IN_CLAN&&hl(t),Y=t[5]===b.LAST_BATTLE&&kl(t),J=t[5]===b.RANDOMS&&Cl(t),H=t[5]===b.SKIRMISH&&Al(t),q=t[5]===b.ADVANCES&&yl(t),z=t[5]===b.CLAN_WARS&&Dl(t),Q=t[5]===b.TOTAL_CLAN_BATTLES&&Nl(t),Be=st(t[0].memberActivity),F=[];for(let u=0;u<Be.length;u+=1)F[u]=vl(fl(t,Be,u));return{c(){e=i("div"),l=i("div"),l.textContent="Activity Summary",r=f(),n=i("div"),o=i("div"),s=i("div"),s.textContent="Select Clan",v=f(),C=i("select"),p=i("option"),p.textContent="Select Clan:";for(let u=0;u<G.length;u+=1)G[u].c();h=f(),N=i("div"),y=i("div"),le=i("div"),le.textContent="Good",te=f(),M=i("input"),_e=f(),ne=i("div"),re=i("div"),re.textContent="Poor",ce=f(),$=i("input"),we=f(),X=i("div"),ae=i("div"),ae.textContent="Bad",pe=f(),Z=i("input"),ue=f(),x=i("div"),fe=i("div"),fe.textContent="Color By",ge=f(),S=i("select"),P=i("option"),P.textContent="Color By:",A=i("option"),A.textContent="Randoms",j=i("option"),j.textContent="Skirmish",L=i("option"),L.textContent="Advances",R=i("option"),R.textContent="Clan War",B=i("option"),B.textContent="Total Clan Battles",Pe=f(),oe=i("div"),me=i("div"),me.textContent="Start Date",Le=f(),ie=i("input"),Ee=f(),w=i("div"),T=i("div"),T.textContent="End Date",St=f(),Se=i("input"),It=f(),Re=i("div"),_t=i("div"),_t.textContent="Date Range",Lt=f(),He=i("div"),pt=D(qe),Rt=D(" days"),Tt=f(),Te=i("div"),mt=i("div"),mt.textContent="Members",Ot=f(),bt=i("div"),ht=D(ze),Bt=f(),Ie=i("table"),g=i("tr"),Qe=i("th"),de=i("button"),Mt=D(`Name\r
                    `),K&&K.c(),Gt=f(),Xe=i("th"),be=i("button"),Ft=D(`Rank\r
                    `),W&&W.c(),$t=f(),Ze=i("th"),he=i("button"),Pt=D(`Joined Clan\r
                    `),U&&U.c(),jt=f(),xe=i("th"),ke=i("button"),Kt=D(`Days in Clan\r
                    `),V&&V.c(),Wt=f(),et=i("th"),Ce=i("button"),Ut=D(`Last Battle\r
                    `),Y&&Y.c(),Vt=f(),tt=i("th"),Ae=i("button"),Yt=D(`Randoms\r
                    `),J&&J.c(),Jt=f(),lt=i("th"),ye=i("button"),Ht=D(`Skirmish\r
                    `),H&&H.c(),qt=f(),nt=i("th"),De=i("button"),zt=D(`Advances\r
                    `),q&&q.c(),Qt=f(),ot=i("th"),Ne=i("button"),Xt=D(`Clan War\r
                    `),z&&z.c(),Zt=f(),rt=i("th"),ve=i("button"),xt=D(`Total Clan Battles\r
                    `),Q&&Q.c(),el=f();for(let u=0;u<F.length;u+=1)F[u].c();kt=f(),je=i("link"),Ct=f(),Ke=i("link"),c(l,"class","title"),p.disabled=!0,p.__value="Select Clan:",I(p,p.__value),t[4]===void 0&&Ye(()=>t[11].call(C)),c(o,"class","control"),c(M,"type","text"),c(M,"placeholder","Good"),c(y,"class","control"),c($,"type","text"),c($,"placeholder","Poor"),c(ne,"class","control"),c(Z,"type","text"),c(Z,"placeholder","Bad"),c(X,"class","control"),c(N,"class","performance-controls"),P.disabled=!0,P.__value="Color By:",I(P,P.__value),A.__value="randoms",I(A,A.__value),j.__value="skirmish",I(j,j.__value),L.__value="advances",I(L,L.__value),R.__value="clan_war",I(R,R.__value),B.__value="total_clan_battles",I(B,B.__value),B.selected=!0,t[1]===void 0&&Ye(()=>t[15].call(S)),c(x,"class","control"),c(ie,"type","date"),c(oe,"class","control"),c(Se,"type","date"),c(w,"class","control"),c(Re,"class","control"),c(Te,"class","control"),c(n,"class","controls-container"),c(de,"type","button"),de.value=b.NAME,c(de,"class","table-cell table-header-cell"),c(Qe,"class","table-row-header"),c(be,"type","button"),c(be,"class","table-cell table-header-cell"),c(Xe,"class","table-row-header"),c(he,"type","button"),c(he,"class","table-cell table-header-cell"),c(Ze,"class","table-row-header"),c(ke,"type","button"),c(ke,"class","table-cell table-header-cell"),c(xe,"class","table-row-header"),c(Ce,"type","button"),c(Ce,"class","table-cell table-header-cell"),c(et,"class","table-row-header"),c(Ae,"type","button"),c(Ae,"class","table-cell table-header-cell"),c(tt,"class","table-row-header"),c(ye,"type","button"),c(ye,"class","table-cell table-header-cell"),c(lt,"class","table-row-header"),c(De,"type","button"),c(De,"class","table-cell table-header-cell"),c(nt,"class","table-row-header"),c(Ne,"type","button"),c(Ne,"class","table-cell table-header-cell"),c(ot,"class","table-row-header"),c(ve,"type","button"),c(ve,"class","table-cell table-header-cell"),c(rt,"class","table-row-header"),c(g,"class","table-header"),c(Ie,"class","table-container"),c(e,"class","page-container"),c(je,"rel","stylesheet"),c(je,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"),c(Ke,"rel","stylesheet"),c(Ke,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0")},m(u,k){_(u,e,k),a(e,l),a(e,r),a(e,n),a(n,o),a(o,s),a(o,v),a(o,C),a(C,p);for(let m=0;m<G.length;m+=1)G[m]&&G[m].m(C,null);it(C,t[4],!0),a(n,h),a(n,N),a(N,y),a(y,le),a(y,te),a(y,M),I(M,t[2].good),a(N,_e),a(N,ne),a(ne,re),a(ne,ce),a(ne,$),I($,t[2].poor),a(N,we),a(N,X),a(X,ae),a(X,pe),a(X,Z),I(Z,t[2].bad),a(n,ue),a(n,x),a(x,fe),a(x,ge),a(x,S),a(S,P),a(S,A),a(S,j),a(S,L),a(S,R),a(S,B),it(S,t[1],!0),a(n,Pe),a(n,oe),a(oe,me),a(oe,Le),a(oe,ie),I(ie,t[2].startDate),a(n,Ee),a(n,w),a(w,T),a(w,St),a(w,Se),I(Se,t[2].endDate),a(n,It),a(n,Re),a(Re,_t),a(Re,Lt),a(Re,He),a(He,pt),a(He,Rt),a(n,Tt),a(n,Te),a(Te,mt),a(Te,Ot),a(Te,bt),a(bt,ht),a(e,Bt),a(e,Ie),a(Ie,g),a(g,Qe),a(Qe,de),a(de,Mt),K&&K.m(de,null),a(g,Gt),a(g,Xe),a(Xe,be),a(be,Ft),W&&W.m(be,null),a(g,$t),a(g,Ze),a(Ze,he),a(he,Pt),U&&U.m(he,null),a(g,jt),a(g,xe),a(xe,ke),a(ke,Kt),V&&V.m(ke,null),a(g,Wt),a(g,et),a(et,Ce),a(Ce,Ut),Y&&Y.m(Ce,null),a(g,Vt),a(g,tt),a(tt,Ae),a(Ae,Yt),J&&J.m(Ae,null),a(g,Jt),a(g,lt),a(lt,ye),a(ye,Ht),H&&H.m(ye,null),a(g,qt),a(g,nt),a(nt,De),a(De,zt),q&&q.m(De,null),a(g,Qt),a(g,ot),a(ot,Ne),a(Ne,Xt),z&&z.m(Ne,null),a(g,Zt),a(g,rt),a(rt,ve),a(ve,xt),Q&&Q.m(ve,null),a(Ie,el);for(let m=0;m<F.length;m+=1)F[m]&&F[m].m(Ie,null);_(u,kt,k),_(u,je,k),_(u,Ct,k),_(u,Ke,k),At||(tl=[E(C,"change",t[11]),E(C,"change",t[9]),E(M,"input",t[12]),E($,"input",t[13]),E(Z,"input",t[14]),E(S,"change",t[15]),E(ie,"input",t[16]),E(ie,"change",t[10]),E(Se,"input",t[17]),E(Se,"change",t[10]),E(de,"click",t[18]),E(be,"click",t[19]),E(he,"click",t[20]),E(ke,"click",t[21]),E(Ce,"click",t[22]),E(Ae,"click",t[23]),E(ye,"click",t[24]),E(De,"click",t[25]),E(Ne,"click",t[26]),E(ve,"click",t[27])],At=!0)},p(u,k){if(k[0]&8){Oe=st(u[3]);let m;for(m=0;m<Oe.length;m+=1){const We=dl(u,Oe,m);G[m]?G[m].p(We,k):(G[m]=_l(We),G[m].c(),G[m].m(C,null))}for(;m<G.length;m+=1)G[m].d(1);G.length=Oe.length}if(k[0]&24&&it(C,u[4]),k[0]&4&&M.value!==u[2].good&&I(M,u[2].good),k[0]&4&&$.value!==u[2].poor&&I($,u[2].poor),k[0]&4&&Z.value!==u[2].bad&&I(Z,u[2].bad),k[0]&2&&it(S,u[1]),k[0]&4&&I(ie,u[2].startDate),k[0]&4&&I(Se,u[2].endDate),k[0]&1&&qe!==(qe=sl(u[0].startDate,u[0].endDate)+"")&&ee(pt,qe),k[0]&1&&ze!==(ze=u[0].memberActivity.length+"")&&ee(ht,ze),u[5]===b.NAME?K?K.p(u,k):(K=pl(u),K.c(),K.m(de,null)):K&&(K.d(1),K=null),u[5]===b.RANK?W?W.p(u,k):(W=ml(u),W.c(),W.m(be,null)):W&&(W.d(1),W=null),u[5]===b.JOINED?U?U.p(u,k):(U=bl(u),U.c(),U.m(he,null)):U&&(U.d(1),U=null),u[5]===b.DAYS_IN_CLAN?V?V.p(u,k):(V=hl(u),V.c(),V.m(ke,null)):V&&(V.d(1),V=null),u[5]===b.LAST_BATTLE?Y?Y.p(u,k):(Y=kl(u),Y.c(),Y.m(Ce,null)):Y&&(Y.d(1),Y=null),u[5]===b.RANDOMS?J?J.p(u,k):(J=Cl(u),J.c(),J.m(Ae,null)):J&&(J.d(1),J=null),u[5]===b.SKIRMISH?H?H.p(u,k):(H=Al(u),H.c(),H.m(ye,null)):H&&(H.d(1),H=null),u[5]===b.ADVANCES?q?q.p(u,k):(q=yl(u),q.c(),q.m(De,null)):q&&(q.d(1),q=null),u[5]===b.CLAN_WARS?z?z.p(u,k):(z=Dl(u),z.c(),z.m(Ne,null)):z&&(z.d(1),z=null),u[5]===b.TOTAL_CLAN_BATTLES?Q?Q.p(u,k):(Q=Nl(u),Q.c(),Q.m(ve,null)):Q&&(Q.d(1),Q=null),k[0]&129){Be=st(u[0].memberActivity);let m;for(m=0;m<Be.length;m+=1){const We=fl(u,Be,m);F[m]?F[m].p(We,k):(F[m]=vl(We),F[m].c(),F[m].m(Ie,null))}for(;m<F.length;m+=1)F[m].d(1);F.length=Be.length}},i:$e,o:$e,d(u){u&&(d(e),d(kt),d(je),d(Ct),d(Ke)),nl(G,u),K&&K.d(),W&&W.d(),U&&U.d(),V&&V.d(),Y&&Y.d(),J&&J.d(),H&&H.d(),q&&q.d(),z&&z.d(),Q&&Q.d(),nl(F,u),At=!1,Je(tl)}}}function An(t,e,l){let r,n={clan:null,endDate:null,startDate:null,memberActivity:[]},o=[],s,v,C=b.TOTAL_CLAN_BATTLES,p=O.ASCENDING,h={good:0,poor:0,bad:0,startDate:"",endDate:""};const N=A=>{const L=B=>B/7*r.defaultActivitySummaryDateRange,R=B=>B>=L(h.good)?"performance-good":B>=L(h.poor)?"performance-poor":"performance-bad";switch(v){case"randoms":return R(A.randomsDiff);case"skirmish":return R(A.skirmishDiff);case"advances":return R(A.advancesDiff);case"clan_war":return R(A.clanWarDiff);case"total_clan_battles":return R(dt(A));default:return"performance-bad"}},y=A=>{C===A?l(6,p=p===O.ASCENDING?O.DESCENDING:O.ASCENDING):(l(5,C=A),C===b.NAME?l(6,p=O.ASCENDING):l(6,p=O.DESCENDING)),l(0,n.memberActivity=Dt(p,C,n.memberActivity),n)},le=async()=>{const A=new vt,j=ct(h.startDate),L=ct(h.endDate);l(0,n=await A.getClanActivity(s,j,L)),l(0,n.memberActivity=Dt(p,C,n.memberActivity),n)},te=async()=>{const A=new vt,j=ct(h.startDate),L=ct(h.endDate);l(0,n=await A.getClanActivity(s,j,L)),l(0,n.memberActivity=Dt(p,C,n.memberActivity),n)};Pl(async()=>{const A=new vt;r=await A.getConfig(),l(3,o=await A.getClanList()),o.length===0&&console.error("No clans found"),l(4,s=o[0].id),l(0,n=await A.getClanActivity(s,null,null)),l(2,h={good:r.defaultPerformanceThresholdGood,poor:r.defaultPerformanceThresholdPoor,bad:r.defaultPerformanceThresholdBad,startDate:cl(n.startDate),endDate:cl(n.endDate)}),y(b.TOTAL_CLAN_BATTLES)});function M(){s=ol(this),l(4,s),l(3,o)}function _e(){h.good=this.value,l(2,h)}function ne(){h.poor=this.value,l(2,h)}function re(){h.bad=this.value,l(2,h)}function ce(){v=ol(this),l(1,v)}function $(){h.startDate=this.value,l(2,h)}function we(){h.endDate=this.value,l(2,h)}const X=()=>y(b.NAME),ae=()=>y(b.RANK),pe=()=>y(b.JOINED),Z=()=>y(b.DAYS_IN_CLAN),ue=()=>y(b.LAST_BATTLE),x=()=>y(b.RANDOMS),fe=()=>y(b.SKIRMISH),ge=()=>y(b.ADVANCES),S=()=>y(b.CLAN_WARS),P=()=>y(b.TOTAL_CLAN_BATTLES);return t.$$.update=()=>{t.$$.dirty[0]&7&&(v||h)&&l(0,n={...n})},[n,v,h,o,s,C,p,N,y,le,te,M,_e,ne,re,ce,$,we,X,ae,pe,Z,ue,x,fe,ge,S,P]}class yn extends Ol{constructor(e){super(),Tl(this,e,An,Cn,El,{},null,[-1,-1])}}function Dn(t){let e,l,r;return l=new yn({}),{c(){e=i("div"),Jl(l.$$.fragment),c(e,"class","main-container svelte-n4ghj8")},m(n,o){_(n,e,o),Ll(l,e,null),r=!0},p:$e,i(n){r||(Il(l.$$.fragment,n),r=!0)},o(n){Yl(l.$$.fragment,n),r=!1},d(n){n&&d(e),Rl(l)}}}class Nn extends Ol{constructor(e){super(),Tl(this,e,null,Dn,El,{})}}new Nn({target:document.getElementById("app")});
